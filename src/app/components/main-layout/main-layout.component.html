<div class="layout-container">
  <!-- Toolbar with ADEL logo and connection info -->
  <mat-toolbar color="primary" class="app-toolbar">
    <span class="app-title">ADEL</span>

    <span class="toolbar-spacer"></span>

    <!-- Database Connection Info -->
    <div class="connection-info" *ngIf="currentConnection">
      <mat-icon class="connection-icon">storage</mat-icon>
      <div class="connection-details">
        <span class="connection-name">{{ getConnectionDisplayName() }}</span>
        <span class="connection-db">{{ getConnectionDatabaseName() }}</span>
      </div>
    </div>

    <!-- Connection Settings Button -->
    <button mat-icon-button
            (click)="openConnectionDialog()"
            matTooltip="Database Connections"
            class="connection-button">
      <mat-icon>settings</mat-icon>
    </button>
  </mat-toolbar>

  <!-- Main content area -->
  <div class="main-content">
    <!-- Left panel: Tree view -->
    <div class="left-panel"
         [style.width.%]="isTreeCollapsed ? 2 : treeWidth"
         [class.collapsed]="isTreeCollapsed">
      <div class="panel-header">
        <button mat-icon-button (click)="toggleTree()" class="collapse-button">
          <mat-icon>{{ isTreeCollapsed ? 'chevron_right' : 'chevron_left' }}</mat-icon>
        </button>
        <span *ngIf="!isTreeCollapsed" class="panel-title">Navigation</span>
      </div>
      <div class="panel-content" *ngIf="!isTreeCollapsed">
        <app-tree-view></app-tree-view>
      </div>
    </div>

    <!-- Vertical resizer -->
    <div class="vertical-resizer"
         (mousedown)="onTreeResize($event)"
         *ngIf="!isTreeCollapsed">
    </div>

    <!-- Right panel: Table view and Info panel -->
    <div class="right-panel"
         [style.width.%]="isTreeCollapsed ? 98 : (100 - treeWidth)">
      <div class="right-panel-content">
        <!-- Top: Table view -->
        <div class="table-panel" [style.height.%]="tableHeight">
          <div class="panel-header">
            <span class="panel-title">Entities</span>
          </div>
          <div class="panel-content">
            <app-table-view></app-table-view>
          </div>
        </div>

        <!-- Horizontal resizer -->
        <div class="horizontal-resizer"
             (mousedown)="onTableResize($event)">
        </div>

        <!-- Bottom: Info panel -->
        <div class="info-panel" [style.height.%]="100 - tableHeight">
          <div class="panel-header">
            <span class="panel-title">Information</span>
          </div>
          <div class="panel-content">
            <!-- Info component will go here -->
            <p class="placeholder-text">System logs, entity info, validation messages, errors...</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
